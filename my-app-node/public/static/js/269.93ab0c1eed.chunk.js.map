{"version":3,"file":"static/js/269.93ab0c1eed.chunk.js","mappings":"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","sources":["webpack://my-app/./src/views/User.vue","webpack://my-app/./src/views/User.vue?1ac3","webpack://my-app/src/views/User.vue","webpack://my-app/./src/views/User.vue?3e8b"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"manage\"},[_c('div',{staticClass:\"manage-header\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleAdd}},[_vm._v(\" + 新增 \")]),_vm._v(\" \"),_c('el-form',{attrs:{\"model\":_vm.userForm,\"inline\":true}},[_c('el-form-item',[_c('el-input',{attrs:{\"placeholder\":\"请输入名称\"},model:{value:(_vm.userForm.name),callback:function ($$v) {_vm.$set(_vm.userForm, \"name\", $$v)},expression:\"userForm.name\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"查询\")])],1)],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"提示\",\"visible\":_vm.dialogVisible,\"before-close\":_vm.handleClose,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-form',{ref:\"form\",attrs:{\"rules\":_vm.rules,\"model\":_vm.form,\"label-width\":\"80px\",\"inline\":true}},[_c('el-form-item',{attrs:{\"label\":\"姓名\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入姓名\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"年龄\",\"prop\":\"age\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入年龄\"},model:{value:(_vm.form.age),callback:function ($$v) {_vm.$set(_vm.form, \"age\", _vm._n($$v))},expression:\"form.age\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"性别\",\"prop\":\"sex\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择性别\"},model:{value:(_vm.form.sex),callback:function ($$v) {_vm.$set(_vm.form, \"sex\", $$v)},expression:\"form.sex\"}},[_c('el-option',{attrs:{\"label\":\"男\",\"value\":0}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"女\",\"value\":1}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"日期\",\"prop\":\"birth\"}},[_c('el-date-picker',{attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\",\"value-format\":\"yyyy-MM-dd\"},model:{value:(_vm.form.birth),callback:function ($$v) {_vm.$set(_vm.form, \"birth\", $$v)},expression:\"form.birth\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"地址\",\"prop\":\"addr\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入地址\"},model:{value:(_vm.form.addr),callback:function ($$v) {_vm.$set(_vm.form, \"addr\", $$v)},expression:\"form.addr\"}})],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.cancel}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submitHandler}},[_vm._v(\"确 定\")])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"common-table\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"stripe\":\"\",\"height\":\"90%\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"序号\",\"align\":\"center\",\"width\":\"50\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"姓名\",\"center\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"sex\",\"label\":\"性别\",\"center\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(Number(scope.row.sex) === 0 ? \"男\" : \"女\"))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"age\",\"label\":\"年龄\",\"center\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"birth\",\"label\":\"出生日期\",\"center\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(scope.row.birth.substr(0, 10)))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"addr\",\"label\":\"地址\",\"center\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"edit\",\"label\":\"编辑\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"warning\"},on:{\"click\":function($event){return _vm.handleEdit(scope.row)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleDelete(scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"pager\"},[_c('el-pagination',{attrs:{\"layout\":\"prev, pager, next\",\"total\":_vm.total},on:{\"current-change\":_vm.handlePage}})],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-7!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-7!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"","<template>\r\n  <div class=\"manage\">\r\n    <!-- 区域1：新增按钮和搜索区域-->\r\n    <div class=\"manage-header\">\r\n      <!-- 1.新增按钮 -->\r\n      <el-button type=\"primary\" @click=\"handleAdd\"> + 新增 </el-button>\r\n      <!-- 2.form搜索区域 -->\r\n      <el-form :model=\"userForm\" :inline=\"true\">\r\n        <el-form-item>\r\n          <el-input placeholder=\"请输入名称\" v-model=\"userForm.name\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"onSubmit\">查询</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n\r\n    <!-- 区域2：弹出的提示框 -->\r\n    <!-- :before-close=\"handleClose\" -->\r\n    <el-dialog\r\n      title=\"提示\"\r\n      :visible.sync=\"dialogVisible\"\r\n      :before-close=\"handleClose\"\r\n      width=\"50%\"\r\n    >\r\n      <!-- 2.1用户的表单信息 -->\r\n      <el-form\r\n        :rules=\"rules\"\r\n        ref=\"form\"\r\n        :model=\"form\"\r\n        label-width=\"80px\"\r\n        :inline=\"true\"\r\n      >\r\n        <el-form-item label=\"姓名\" prop=\"name\">\r\n          <el-input placeholder=\"请输入姓名\" v-model=\"form.name\"></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"年龄\" prop=\"age\">\r\n          <el-input\r\n            placeholder=\"请输入年龄\"\r\n            v-model.number=\"form.age\"\r\n          ></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"性别\" prop=\"sex\">\r\n          <el-select v-model=\"form.sex\" placeholder=\"请选择性别\">\r\n            <el-option label=\"男\" :value=\"0\"></el-option>\r\n            <el-option label=\"女\" :value=\"1\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"日期\" prop=\"birth\">\r\n          <el-date-picker\r\n            v-model=\"form.birth\"\r\n            type=\"date\"\r\n            placeholder=\"选择日期\"\r\n            value-format=\"yyyy-MM-dd\"\r\n          >\r\n          </el-date-picker>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"地址\" prop=\"addr\">\r\n          <el-input placeholder=\"请输入地址\" v-model=\"form.addr\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <!-- 2.2确定和取消按钮 -->\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"cancel\">取 消</el-button>\r\n        <!-- 用户点击确定 -->\r\n        <el-button type=\"primary\" @click=\"submitHandler\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n\r\n    <!-- 区域3：表格 -->\r\n    <div class=\"common-table\">\r\n      <!-- 第一部分:表格 -->\r\n      <el-table :data=\"tableData\" stripe style=\"width: 100%\" height=\"90%\">\r\n        <el-table-column\r\n          type=\"index\"\r\n          label=\"序号\"\r\n          align=\"center\"\r\n          width=\"50\"\r\n        ></el-table-column>\r\n\r\n        <el-table-column prop=\"name\" label=\"姓名\" center> </el-table-column>\r\n        <el-table-column prop=\"sex\" label=\"性别\" center>\r\n          <template slot-scope=\"scope\">\r\n            <span style=\"margin-left: 10px\">{{\r\n              Number(scope.row.sex) === 0 ? \"男\" : \"女\"\r\n            }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"age\" label=\"年龄\" center> </el-table-column>\r\n        <el-table-column prop=\"birth\" label=\"出生日期\" center>\r\n          <template slot-scope=\"scope\">\r\n            <span style=\"margin-left: 10px\">{{\r\n              scope.row.birth.substr(0, 10)\r\n            }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"addr\" label=\"地址\" center> </el-table-column>\r\n        <el-table-column prop=\"edit\" label=\"编辑\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button size=\"mini\" @click=\"handleEdit(scope.row)\" type=\"warning\"\r\n              >编辑</el-button\r\n            >\r\n            <el-button\r\n              size=\"mini\"\r\n              @click=\"handleDelete(scope.row)\"\r\n              type=\"danger\"\r\n              >删除</el-button\r\n            >\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <!-- 第二部分:分页器 -->\r\n      <div class=\"pager\">\r\n        <el-pagination\r\n          layout=\"prev, pager, next\"\r\n          :total=\"total\"\r\n          @current-change=\"handlePage\"\r\n        >\r\n        </el-pagination>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport qs from \"qs\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      // 是否显示表单\r\n      dialogVisible: false,\r\n      form: {\r\n        // 后端会传过来id\r\n        name: \"\",\r\n        age: \"\",\r\n        sex: \"\",\r\n        birth: \"\",\r\n        addr: \"\",\r\n      },\r\n      // 表单数据检查约束规则\r\n      rules: {\r\n        name: [\r\n          {\r\n            required: true,\r\n            message: \"请输入姓名\",\r\n          },\r\n        ],\r\n        age: [\r\n          {\r\n            required: true,\r\n            message: \"请输入年龄\",\r\n          },\r\n          {\r\n            type: \"number\",\r\n            message: \"请输入数字\",\r\n          },\r\n        ],\r\n        sex: [\r\n          {\r\n            required: true,\r\n            message: \"请输入性别\",\r\n          },\r\n        ],\r\n        birth: [\r\n          {\r\n            required: true,\r\n            message: \"请输入出生日期\",\r\n          },\r\n        ],\r\n        addr: [\r\n          {\r\n            required: true,\r\n            message: \"请输入地址\",\r\n          },\r\n        ],\r\n      },\r\n      // 表单数据\r\n      tableData: [],\r\n      // 区分表单弹窗：0表示新增弹窗; 1表示编辑\r\n      modalType: 0, // 默认是新增弹窗\r\n      // 用户列表数据总条数,\r\n      total: 0, // 默认为0\r\n      pageData: {\r\n        pageNum: 1,\r\n        pageSize: 10,\r\n      },\r\n      // 用户管理页面 搜索\r\n      userForm: {\r\n        name: \"\",\r\n      },\r\n    };\r\n  },\r\n  mounted() {\r\n    // 页面首次加载时,获得用户列表数据\r\n    this.getList();\r\n  },\r\n\r\n  methods: {\r\n    // 点击新增\r\n    handleAdd() {\r\n      // 这是一个\"新增\"的弹窗\r\n      this.modalType = 0;\r\n      // 打开弹窗\r\n      this.dialogVisible = true;\r\n      // 恢复到表单的初始状态\r\n      this.$nextTick(() => {\r\n        // 需要放在下一轮操作,等到弹窗显示出来后才更新\r\n        this.$refs[\"form\"].resetFields();\r\n      });\r\n    },\r\n    // 点击确定按钮,表单\r\n    submitHandler() {\r\n      // element-ui提交的表单是否通过校验的方法\r\n      // valid的值为true,通过校验;值为false,未通过校验\r\n      this.$refs.form.validate((valid) => {\r\n        if (valid) {\r\n          // 后续对数据的处理\r\n          if (this.modalType === 0) {\r\n            this.$axios\r\n              .post(\"/api/users\", qs.stringify(this.form), {\r\n                headers: {\r\n                  \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n                },\r\n              })\r\n              .then((res) => {\r\n                console.log(res);\r\n                // 重新获取列表接口\r\n                this.getList();\r\n              });\r\n          } else {\r\n            // 调用编辑接口\r\n            this.$axios\r\n              .put(`/api/users/${this.form.id}`, qs.stringify(this.form))\r\n              .then((res) => {\r\n                console.log(res);\r\n                this.$message.success(\"数据编辑成功\");\r\n              })\r\n              .catch((err) => {\r\n                console.log(err);\r\n              });\r\n          }\r\n          // 重新获取列表接口\r\n          this.getList();\r\n\r\n          // 关闭表单的操作\r\n          this.handleClose();\r\n        }\r\n      });\r\n    },\r\n    // 关闭弹窗框\r\n    handleClose(done) {\r\n      // 关闭表单\r\n      this.dialogVisible = false;\r\n      // 因为编辑和新增共用一个弹窗,如果在此处使用 this.$refs[\"form\"].resetFields();\r\n      // 那么编辑点击关闭弹窗时，就会在瞬间闪屏为 空；但是业务逻辑应该是子弹窗上保持着用户的数据\r\n      // 因此应该只在新增弹框打开时重置数据为空状态;\r\n      // 为了保持表单一开始的状态为空,需要在将编辑修改的数据放入nextTick中；\r\n      // 避免第一个编辑的数据成为表单初始状态\r\n    },\r\n    // 点击取消按钮\r\n    cancel() {\r\n      this.handleClose();\r\n    },\r\n    // 点击编辑按钮\r\n    handleEdit(row) {\r\n      // 打开的弹窗是编辑弹窗\r\n\r\n      this.modalType = 1;\r\n      // 打开弹窗\r\n      this.dialogVisible = true;\r\n      // 深拷贝：显示该行数据到弹窗上\r\n      // 如果使用深拷贝修改了内容又点击了取消编辑原数据还是会修改\r\n      this.$nextTick(() => {\r\n        this.form = JSON.parse(JSON.stringify(row));\r\n        this.form.sex = Number(this.form.sex) === 0 ? \"男\" : \"女\";\r\n      });\r\n    },\r\n    // 点击删除按钮\r\n    handleDelete(val) {\r\n      this.$confirm(\"此操作将永久删除该文件, 是否继续?\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\",\r\n      })\r\n        .then(() => {\r\n          // 删除数据一般使用id作为表示\r\n          this.$axios.delete(`/api/users/${val.id}`).then(() => {\r\n            this.$message({\r\n              type: \"success\",\r\n              message: \"删除成功!\",\r\n            });\r\n            // 重新获取接口\r\n            this.getList();\r\n          });\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: \"info\",\r\n            message: \"已取消删除\",\r\n          });\r\n        });\r\n    },\r\n    // 分页器数据发生变化\r\n    handlePage(val) {\r\n      // 修改data的值\r\n      this.pageData.pageNum = val;\r\n      // 重新请求列表数据\r\n      this.getList();\r\n    },\r\n    // 字符串搜索功能\r\n    onSubmit() {\r\n      this.getList();\r\n    },\r\n\r\n    // 封装公共方法：获取列表数据\r\n    getList() {\r\n      this.$axios\r\n        .get(\"/api/users\", { params: { ...this.pageData, ...this.userForm } })\r\n        .then((data) => {\r\n          this.tableData = data.data.list;\r\n          // 后端提供了用户数据的总长度\r\n          this.total = data.data.count || 0;\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.manage {\r\n  height: 90%;\r\n  .manage-header {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n  }\r\n  .common-table {\r\n    height: calc(100% - 62px);\r\n    position: relative;\r\n    .pager {\r\n      position: absolute;\r\n      bottom: 0;\r\n      right: 20px;\r\n    }\r\n  }\r\n}\r\n</style>","import { render, staticRenderFns } from \"./User.vue?vue&type=template&id=3bc43dec&scoped=true&\"\nimport script from \"./User.vue?vue&type=script&lang=js&\"\nexport * from \"./User.vue?vue&type=script&lang=js&\"\nimport style0 from \"./User.vue?vue&type=style&index=0&id=3bc43dec&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3bc43dec\",\n  null\n  \n)\n\nexport default component.exports"],"names":["data","dialogVisible","form","name","age","sex","birth","addr","rules","required","message","type","tableData","modalType","total","pageData","pageNum","pageSize","userForm","mounted","getList","methods","handleAdd","$nextTick","$refs","resetFields","submitHandler","validate","valid","$axios","post","qs","headers","then","res","console","log","put","id","$message","success","catch","err","handleClose","done","cancel","handleEdit","row","JSON","parse","stringify","Number","handleDelete","val","$confirm","confirmButtonText","cancelButtonText","delete","handlePage","onSubmit","get","params","list","count","_vm","this","_c","_self","staticClass","attrs","on","_v","model","value","callback","$$v","$set","expression","$event","ref","_n","slot","staticStyle","scopedSlots","_u","key","fn","scope","_s","substr"],"sourceRoot":""}