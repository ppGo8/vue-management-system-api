"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[343],{42343:function(t,e,s){s.r(e),s.d(e,{default:function(){return o}});s(57658);var r=s(31955),i=s(96245),a={data(){return{form:{name:"",password:""},rules:{name:[{required:!0,trigger:"blur",message:"请输入用户名"}],password:[{required:!0,trigger:"blur",message:"请输入密码"}]}}},methods:{isEmpty(t){return null==t||"object"==typeof t&&0===Object.keys(t).length||"string"==typeof t&&0===t.trim().length},onSubmitKeyup(){this.onSubmit()},onSubmit(){this.$refs.form.validate((t=>{if(!t)return this.$message("输入数据格式不正确,请重新输入!");this.$axios.post("/api/admin/login",this.form).then((t=>{if(200===t.status){const{token:e}=t.data;r.Z.set("token",e),this.$store.commit("m_tab/setMenu",t.data.menu),this.$store.commit("m_tab/addMenu",this.$router);const s=(0,i.Z)(e);this.$store.dispatch("m_admin/setAuthenticated",!this.isEmpty(s)),this.$store.dispatch("m_admin/setUser",s),this.$router.push("/home")}})).catch((t=>{this.$message.error(t.response.data)}))}))}}},n=(0,s(51900).Z)(a,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"login-container"},[e("div",[e("el-form",{ref:"form",attrs:{"label-width":"70px",inline:!0,model:t.form,rules:t.rules},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onSubmitKeyup.apply(null,arguments)}}},[e("h3",{staticClass:"login-title"},[t._v("系统登录")]),t._v(" "),e("el-form-item",{attrs:{label:"用户名:",prop:"name"}},[e("el-input",{attrs:{placeholder:"请输入账号"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"密码:",prop:"password"}},[e("el-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),t._v(" "),e("div",{staticClass:"login-btn"},[e("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("登录")])],1)],1)],1),t._v(" "),e("div",{staticClass:"text"},[t._m(0),t._v(" "),e("div",{staticClass:"register"},[e("router-link",{attrs:{to:"register"}},[t._v("注册")])],1)])])}),[function(){var t=this,e=t._self._c;return e("div",[e("p",{staticClass:"tips"},[t._v("管理员账号:admin 密码:admin")]),t._v(" "),e("p",{staticClass:"tips"},[t._v("员工账号:ppgo 密码:ppgo")])])}],!1,null,"5779e12e",null),o=n.exports}}]);
//# sourceMappingURL=343.057fcca7a4.chunk.js.map