{"version":3,"file":"static/js/343.057fcca7a4.chunk.js","mappings":"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","sources":["webpack://my-app/./src/views/Login.vue","webpack://my-app/./src/views/Login.vue?5ae1","webpack://my-app/src/views/Login.vue","webpack://my-app/./src/views/Login.vue?ab3f"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"login-container\"},[_c('div',[_c('el-form',{ref:\"form\",attrs:{\"label-width\":\"70px\",\"inline\":true,\"model\":_vm.form,\"rules\":_vm.rules},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.onSubmitKeyup.apply(null, arguments)}}},[_c('h3',{staticClass:\"login-title\"},[_vm._v(\"系统登录\")]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"用户名:\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入账号\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"密码:\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"请输入密码\"},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"login-btn\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"登录\")])],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"text\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"register\"},[_c('router-link',{attrs:{\"to\":\"register\"}},[_vm._v(\"注册\")])],1)])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',[_c('p',{staticClass:\"tips\"},[_vm._v(\"管理员账号:admin 密码:admin\")]),_vm._v(\" \"),_c('p',{staticClass:\"tips\"},[_vm._v(\"员工账号:ppgo 密码:ppgo\")])])\n}]\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-7!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-7!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","<template>\r\n  <div class=\"login-container\">\r\n    <div>\r\n      <!-- 第一部分:登录区域 -->\r\n      <el-form\r\n        label-width=\"70px\"\r\n        :inline=\"true\"\r\n        :model=\"form\"\r\n        :rules=\"rules\"\r\n        ref=\"form\"\r\n        @keyup.enter.native=\"onSubmitKeyup\"\r\n      >\r\n        <h3 class=\"login-title\">系统登录</h3>\r\n\r\n        <el-form-item label=\"用户名:\" prop=\"name\">\r\n          <el-input v-model=\"form.name\" placeholder=\"请输入账号\"> </el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"密码:\" prop=\"password\">\r\n          <el-input\r\n            type=\"password\"\r\n            v-model=\"form.password\"\r\n            placeholder=\"请输入密码\"\r\n          >\r\n          </el-input>\r\n        </el-form-item>\r\n        <div class=\"login-btn\">\r\n          <el-button type=\"primary\" @click=\"onSubmit\">登录</el-button>\r\n        </div>\r\n      </el-form>\r\n    </div>\r\n    <!-- 第二部分:提示区 -->\r\n    <div class=\"text\">\r\n      <div>\r\n        <p class=\"tips\">管理员账号:admin 密码:admin</p>\r\n        <p class=\"tips\">员工账号:ppgo 密码:ppgo</p>\r\n      </div>\r\n      <div class=\"register\"><router-link to=\"register\">注册</router-link></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Cookie from \"js-cookie\";\r\nimport jwt_decode from \"jwt-decode\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      // 存储用户数据\r\n      form: {\r\n        name: \"\",\r\n        password: \"\",\r\n      },\r\n      // 表单数据校验\r\n      rules: {\r\n        name: [\r\n          {\r\n            required: true,\r\n            trigger: \"blur\", // 触发时机,失去焦点时\r\n            message: \"请输入用户名\",\r\n          },\r\n        ],\r\n        password: [\r\n          {\r\n            required: true,\r\n            trigger: \"blur\", // 触发时机,失去焦点时\r\n            message: \"请输入密码\",\r\n          },\r\n        ],\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    // 检验数据是否为空,为空返回true\r\n    isEmpty(value) {\r\n      return (\r\n        value === undefined ||\r\n        value === null ||\r\n        (typeof value === \"object\" && Object.keys(value).length === 0) ||\r\n        (typeof value === \"string\" && value.trim().length === 0)\r\n      );\r\n    },\r\n    // 按下回车\r\n    onSubmitKeyup() {\r\n      this.onSubmit();\r\n    },\r\n    // 登录功能\r\n    onSubmit() {\r\n      // 检验用户输入的信息\r\n      this.$refs.form.validate((valid) => {\r\n        // 用户输入通过前端校验\r\n        if (valid) {\r\n          this.$axios\r\n            .post(\"/api/admin/login\", this.form)\r\n            .then((res) => {\r\n              if (res.status === 200) {\r\n                // 使用cookie存储token,也可以使用本地存储\r\n                const { token } = res.data;\r\n                Cookie.set(\"token\", token);\r\n                // 存储到Vuex:菜单数据\r\n                this.$store.commit(\"m_tab/setMenu\", res.data.menu);\r\n                // 存储到Vuex:路由数据\r\n                this.$store.commit(\"m_tab/addMenu\", this.$router);\r\n\r\n                // 解析token\r\n                const decoded = jwt_decode(token);\r\n\r\n                // 存储到Vuex:是否授权和登录用户的信息\r\n                this.$store.dispatch(\r\n                  \"m_admin/setAuthenticated\",\r\n                  !this.isEmpty(decoded)\r\n                );\r\n                this.$store.dispatch(\"m_admin/setUser\", decoded);\r\n\r\n                // 编程式跳转到首页\r\n                this.$router.push(\"/home\");\r\n              }\r\n            })\r\n            .catch((err) => {\r\n              // 登录失败提示\r\n              this.$message.error(err.response.data);\r\n            });\r\n        } else {\r\n          return this.$message(\"输入数据格式不正确,请重新输入!\");\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.login-container {\r\n  position: relative;\r\n  box-sizing: border-box;\r\n  width: 400px;\r\n\r\n  margin: 180px auto;\r\n  padding: 35px;\r\n\r\n  background-color: #fff;\r\n  border-radius: 15px;\r\n  border: 1px solid #eaeaea;\r\n  box-shadow: 0 0 25px #cac6c6;\r\n\r\n  .login-title {\r\n    text-align: center;\r\n    // margin-bottom: 40px;\r\n    color: #505458;\r\n  }\r\n  .el-form-item {\r\n    display: flex;\r\n  }\r\n  .el-input {\r\n    width: 250px;\r\n  }\r\n  .el-form:nth-child(1) {\r\n    margin-bottom: 20px;\r\n  }\r\n\r\n  ::v-deep .el-button {\r\n    margin-left: 50%;\r\n    transform: translateX(-50%);\r\n  }\r\n}\r\n.text {\r\n  font-size: 12px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n\r\n  a {\r\n    text-decoration: none;\r\n    color: #0080ff;\r\n  }\r\n  .router-link-active {\r\n    text-decoration: none;\r\n  }\r\n}\r\n</style>","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=5779e12e&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=5779e12e&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5779e12e\",\n  null\n  \n)\n\nexport default component.exports"],"names":["data","form","name","password","rules","required","trigger","message","methods","isEmpty","value","Object","keys","length","trim","onSubmitKeyup","onSubmit","$refs","validate","valid","$message","$axios","post","then","res","status","token","Cookie","$store","commit","menu","$router","decoded","jwt_decode","dispatch","push","catch","err","error","response","component","_vm","this","_c","_self","staticClass","ref","attrs","nativeOn","$event","type","indexOf","_k","keyCode","key","apply","arguments","_v","model","callback","$$v","$set","expression","on","_m"],"sourceRoot":""}