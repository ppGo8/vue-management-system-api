(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[179],{51546:function(e,t,n){"use strict";var a=n(90247),o=n.n(a),r=n(91094),i=n.n(r),s=n(31955),u=n(96245),m={name:"App",components:{},created(){if(s.Z.get("token")){const e=(0,u.Z)(s.Z.get("token"));this.$store.dispatch("m_admin/setAuthenticated",!this.isEmpty(e)),this.$store.dispatch("m_admin/setUser",e)}},methods:{isEmpty(e){return null==e||"object"==typeof e&&0===Object.keys(e).length||"string"==typeof e&&0===e.trim().length}}},l=(0,n(51900).Z)(m,(function(){var e=this._self._c;return e("div",{attrs:{id:"app"}},[e("router-view")],1)}),[],!1,null,null,null).exports,c=n(78345);i().use(c.ZP);const d=[{path:"/",component:()=>n.e(909).then(n.bind(n,41607)),name:"Main",redirect:"/home",children:[{path:"/infoshow",name:"infoshow",component:()=>n.e(332).then(n.bind(n,22148))}]},{path:"/login",name:"login",component:()=>n.e(343).then(n.bind(n,42343))},{path:"/register",name:"register",component:()=>n.e(741).then(n.bind(n,26741))},{path:"*",name:"404",component:()=>n.e(332).then(n.bind(n,61456))}],h=new c.ZP({routes:d});h.beforeEach(((e,t,n)=>{const a=s.Z.get("token");a||"register"!==e.name?a||"login"===e.name?a&&"login"===e.name?n({name:t.name}):n():n({name:"login"}):n()}));var p=h,v=n(20629),f=(n(57658),{namespaced:!0,state:()=>({isCollapse:!1,tabList:[{path:"/",name:"home",label:"首页",icon:"s-home",url:"Home/Home"}],menu:[]}),mutations:{collapseMenu(e){e.isCollapse=!e.isCollapse},selectMenu(e,t){if("home"!==t.name){-1===e.tabList.findIndex((e=>e.name===t.name))&&e.tabList.push(t)}},setMenu(e,t){e.menu=t,localStorage.setItem("menu",JSON.stringify(e.menu))},addMenu(e,t){if(!localStorage.getItem("menu"))return;const a=JSON.parse(localStorage.getItem("menu"));e.menu=a;const o=[];a.forEach((e=>{e.children?(e.children=e.children.map((e=>(e.component=()=>n(26968)(`./${e.url}`),e))),o.push(...e.children)):(e.component=()=>n(26968)(`./${e.url}`),o.push(e))})),o.forEach((e=>{t.addRoute("Main",e)}))},closeTab(e,t){const n=e.tabList.findIndex((e=>e.name===t.name));e.tabList.splice(n,1)},clearTab(e){e.tabList.splice(1,e.tabList.length-1)}}});const g="SET_AUTHENTICATED",b="SET_USER",y={[g](e,t){e.isAuthenticated=t||!1},[b](e,t){t&&(e.user=t)}},L={namespaced:!0,state:{isAuthenticated:!1,user:{}},getters:{isAuthenticated:e=>e.isAuthenticated,user:e=>e.user},mutations:y,actions:{setAuthenticated:(e,t)=>{let{commit:n}=e;n(g,t)},setUser:(e,t)=>{let{commit:n}=e;n(b,t)}}};var B=L,w={namespaced:!0,state:()=>({breadList:[{path:"/",name:"home",label:"首页",icon:"s-home",url:"Home/Home"}]}),mutations:{clearBreaList(e){e.breadList.splice(1,e.breadList.length-1)},setbreadList(e,t){this.commit("m_bread/clearBreaList"),1!==t.length||"home"===t[0].name?2===t.length&&(e.breadList.push(t[1]),e.breadList.push(t[0])):e.breadList.push(t[0])},setBreadListTab(e,t){if(this.commit("m_bread/clearBreaList"),"home"===t.name)return;const n=JSON.parse(localStorage.getItem("menu")).filter((e=>e.children)).filter((e=>{for(let n=0;n<e.children.length;n++)if(e.children[n].name===t.name)return!0}));if(0!==n.length)return e.breadList.push(n[0]),void e.breadList.push(t);e.breadList.push(t)}}};i().use(v.ZP);var k=new v.ZP.Store({modules:{m_tab:f,m_admin:B,m_bread:w}}),E=n(15623),_=n.n(E);let P=[];var Z=()=>{for(let e=0;e<7;e++)P.push(_().mock({"苹果":_().Random.float(100,8e3,0,0),vivo:_().Random.float(100,8e3,0,0),oppo:_().Random.float(100,8e3,0,0),"魅族":_().Random.float(100,8e3,0,0),"三星":_().Random.float(100,8e3,0,0),"小米":_().Random.float(100,8e3,0,0)}));return{code:2e4,data:{videoData:[{name:"小米",value:2999},{name:"苹果",value:5999},{name:"vivo",value:1500},{name:"oppo",value:1999},{name:"魅族",value:2200},{name:"三星",value:4500}],userData:[{date:"周一",new:5,active:200},{date:"周二",new:10,active:500},{date:"周三",new:12,active:550},{date:"周四",new:60,active:800},{date:"周五",new:65,active:550},{date:"周六",new:53,active:770},{date:"周日",new:33,active:170}],orderData:{date:["20191001","20191002","20191003","20191004","20191005","20191006","20191007"],data:P},tableData:[{name:"oppo",todayBuy:500,monthBuy:3500,totalBuy:22e3},{name:"vivo",todayBuy:300,monthBuy:2200,totalBuy:24e3},{name:"苹果",todayBuy:800,monthBuy:4500,totalBuy:65e3},{name:"小米",todayBuy:1200,monthBuy:6500,totalBuy:45e3},{name:"三星",todayBuy:300,monthBuy:2e3,totalBuy:34e3},{name:"魅族",todayBuy:350,monthBuy:3e3,totalBuy:22e3}]}}};_().mock("/api/home/getData",Z);var S=n(16473),T=n.n(S),x=n(73591),O=n.n(x),U=n(52861);let A;U.Z.interceptors.request.use((e=>("/api/upload"!==e.url&&(A=O().service({lock:!0,text:"拼命加载中...",background:"rgba(0, 0, 0, 0.7)"})),s.Z.get("token")&&(e.headers.Authorization=s.Z.get("token")),e)),(e=>Promise.reject(e))),U.Z.interceptors.response.use((e=>{A&&A.close();const{status:t}=e.data;return 200===t?Promise.resolve(e):401===t?(T().error("token失效请重新登录! 3s后自动跳转!"),s.Z.remove("token"),setTimeout((function(){p.push("/login")}),3e3),Promise.reject(e)):Promise.resolve(e)}),(e=>(A&&A.close(),Promise.reject(e))));var M=U.Z;i().use(o()),i().prototype.$axios=M,i().config.productionTip=!1,new(i())({router:p,store:k,render:e=>e(l),created(){k.commit("m_tab/addMenu",p)}}).$mount("#app")},26968:function(e,t,n){var a={"./404":[61456,456],"./404.vue":[61456,456],"./ExcelExport":[46883,558,883],"./ExcelExport.vue":[46883,558,883],"./ExcelUpload":[80947,558,947],"./ExcelUpload.vue":[80947,558,947],"./FundList":[87237,558,730],"./FundList.vue":[87237,558,730],"./Home":[57849,598,558,849],"./Home.vue":[57849,598,558,849],"./InfoShow":[22148,148],"./InfoShow.vue":[22148,148],"./Login":[42343,343],"./Login.vue":[42343,343],"./Main":[41607,909],"./Main.vue":[41607,909],"./PageOne":[57502,328,502],"./PageOne.vue":[57502,328,502],"./PageTwo":[21757,44,444,558,757],"./PageTwo.vue":[21757,44,444,558,757],"./Register":[26741,741],"./Register.vue":[26741,741],"./UploadFile":[36142,598,558,198],"./UploadFile.vue":[36142,598,558,198],"./User":[8747,558,269],"./User.vue":[8747,558,269]};function o(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],o=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(o)}))}o.keys=function(){return Object.keys(a)},o.id=26968,e.exports=o}},function(e){e.O(0,[277,588,558],(function(){return t=51546,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=main.6837a43834.js.map